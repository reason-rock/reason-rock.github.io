---
title: 라즈베리파이 삽질일기(LCD 터치 안됨, 파이캠 안됨)
date: 2023-01-17 20:53:11 +9:00
categories: [Linux, Ubuntu]
tags: [라즈베리파이, RPI, LCD, 파이캠, Picam]
---


라즈베리파이 삽질일기(LCD 터치 안됨, 파이캠 안됨)

오늘도 어김없이 시작되는 삽질일기 시리즈. 블로그 지분의 50% 가량은 차지하고 있는것 같다.
이쯤되면 카테고리를 새로 하나 파야하나 고민.


라즈베리파이 4가 생겨 휴대가능한 소소한 임베디드 프로젝트를 진행해보고자 카메라와 LCD를 장착하고, 라즈비안 OS를 설치하였다.

이때 조금 더 신중했어야 했는데, 제일 위에 있는 32bit를 하지 않고 굳이 다른 창을 열어 64비트를 클릭해버렸다.
물론 라즈베리파이 4가 호환된다는 설명이 있기에, 그때까지는 이게 신버전이구나 하고 설치를 해 버렸다.

먼저 터치 디스플레이가 제대로 작동하지 않았다. 드라이버를 설치해서 터치 인풋은 작동하였으나, X축과 Y축이 반전되어 터치 아닌 터치가 되고 있었다. LCD_rotate 등 다양한 옵션을 줘 보았지만 실패하였고, 결국 40-libinput.conf 파일의 "libinput touchscreen catchcall" 항목에 'Option "TransformationMatrix" "0 -1 1 -1 0 1 0 0 1"을 추가하여 해결할 수 있었다.

두번째로는 파이 카메라가 작동하지 않았다. 이번에는 무엇이 나오지도 않고, 아예 인식 자체가 되지 않았다. Raspberry pi configuration 메뉴에서 Interface 단에서는 Camera 옵션이 보이지 않았고, raspi-config 를 통해 수정을 해도, 레거시 코드에서 사용되는거고, 더 이상 지원되지 않는다는 경고와 함께 재부팅 후에도 변화가 없었다. vcgencmd를 통해 확인을 해도 detected가 0으로, 아예 인식 자체가 되지 않았다.
libcamera, opencv 등을 가지고 별의 별 삽질을 다 해보았지만, 어림도 없었다.

이 문제는 생각보다는 쉽게 해결되었는데, SD카드 완전 초기화 후 이미지를 재설치하는 과정에서 혹시....? 라는 생각으로 32비트로 설치하였더니 모든게 정상작동했다.

결국 이 모든 것의 원흉은 바로 64비트 라즈비안이었던 것 같다.
